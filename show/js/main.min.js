function shuffle(t){for(var e,a,o=t.length;0!==o;)a=Math.floor(Math.random()*o),o-=1,e=t[o],t[o]=t[a],t[a]=e;return t}function perspectiveNormalize(t,e){return Math.min(600+1e4*(e/t),3e5)}function randomInt(t,e){return Math.floor(randomFloat(t,e))}function randomFloat(t,e){return Math.random()*e+t}function MouseScroll(t){var e=0;"wheelDelta"in t?(e=t.wheelDelta,$(".shape, .face").css("transition","0.1s ease")):(e=-40*t.detail,$(".shape, .face").css("transition","0.1s ease"));var a=function(t){return 5e-4*(Math.e^t)};$("span > .row.shape-container .col-sm-2 > .shape").each(function(){$(this).data("rotationReset",[this.rotationX(),this.rotationY(),this.rotationZ()]),this.rotate(0,0,a(e)).update()}),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout(function(){$("span > .row.shape-container .col-sm-2 > .shape").each(function(){this.rotation(70,0,45).update()})},500)),$("header p").each(function(t){var o=Math.abs(a(e));$(this).css("line-height",18+30*o*(t+1)+"px")})}function Init(){var t=document.getElementById("body");t.addEventListener?(t.addEventListener("mousewheel",MouseScroll,!1),t.addEventListener("DOMMouseScroll",MouseScroll,!1)):t.attachEvent&&t.attachEvent("onmousewheel",MouseScroll)}function rotateBox(t,e,a){var o;"x"==e?(o=t.rotationX(),t.rotationX(o+a).update()):"y"==e?(o=t.rotationY(),t.rotationY(o+a).update()):"z"==e&&(o=t.rotationZ(),t.rotationZ(o+a).update())}function perspectiveFuck(t,e){t.perspective(e)}function shapeCreator(t,e,a,o,i,p){switch(i||(i=_unit),p||(p=_depth),t){case 0:var n=Sprite3D.create(".shape first").position(e,a-10,o).rotation(70,0,45).update();return n.appendChild(Sprite3D.box(2*i,2*i,p,".shape bottom").position(-i,-i,-i).rotationY(180).update().move(-2*i,-2*i,-1*i-p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,-2*i).rotationX(90).update().move(2*i,2*i,1*i+p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(-1*i,-1*i,-.5*i+p).update()),n;case 1:var r=Sprite3D.create(".shape second").rotation(70,0,45).position(e+20,a+35,o).update();return r.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,i).update().move(-2*i,-2*i,-1*i-p).update()),r.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),r.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-3*i,0,2*i).rotationX(90).update().move(2*i,2*i,1*i+p).update()),r;case 2:var s=Sprite3D.create(".shape third").rotation(70,0,45).position(e,a+50,o).update();return s.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-3*i,3*i).update().move(-2*i,-2*i,-1*i-p).update()),s.appendChild(Sprite3D.box(2*i,2*i,p,".shape left").position(-2*i,-i,2*i).rotationY(-90).update().move(1*i,1*i,.5*i+p).update()),s.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(2*i,2*i,1*i+p).update()),s;case 3:var d=Sprite3D.create(".shape fourth").rotation(70,0,45).position(e,a+40,o).update();return d.appendChild(Sprite3D.box(2*i,2*i,p,".shape bottom").position(-i,-i,-i).rotationY(180).update().move(-2*i,-2*i,-1*i-p).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,0).rotationX(90).update().move(2*i,2*i,1*i+p).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,2*i).rotationX(-90).update().move(-1*i,-1*i,-.5*i+p).update()),d;case 4:var h=Sprite3D.create(".shape fifth").rotation(70,0,45).position(e,a-10,o).update();return h.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,-i).rotationY(180).update().move(-2*i,-2*i,-1*i-p).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,-2*i).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,0).rotationX(90).update().move(2*i,2*i,1*i+p).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(-1*i,-1*i,-.5*i+p).update()),h;case 5:var u=Sprite3D.create(".shape sixth").rotation(70,0,45).position(e,a+40,o).update();return u.appendChild(Sprite3D.box(2*i,2*i,p,".shape left").position(-2*i,-i,0).rotationY(-90).update().move(-2*i,-2*i,-1*i-p).update()),u.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-3*i,0,2*i).rotationX(90).update().move(1*i,1*i,.5*i+p).update()),u.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(2*i,2*i,1*i+p).update()),u}}function shapeCreatorSpread(t,e,a,o,i,p){switch(i||(i=_unit),p||(p=_depth),t){case 0:var n=Sprite3D.create(".shape first").rotation(70,0,45).update().move(e+i,a,o).update();return n.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,i).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape bottom").position(-i,-i,-i).rotationY(180).update().move(-2*i,-2*i,-1*i-p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,-2*i).rotationX(90).update().move(2*i,2*i,1*i+p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(-1*i,-1*i,-.5*i+p).update()),n;case 1:var r=Sprite3D.create(".shape second").rotation(70,0,45).position(.5*i+e,a+2*i,o).update();return r.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,i).update().move(-2*i,-2*i,-1*i-p).update()),r.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),r.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-3*i,0,2*i).rotationX(90).update().move(2*i,2*i,1*i+p).update()),r;case 2:var s=Sprite3D.create(".shape third").rotation(70,0,45).position(e,a+3*i,o).update();return s.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-3*i,3*i).update().move(-2*i,-2*i,-1*i-p).update()),s.appendChild(Sprite3D.box(2*i,2*i,p,".shape left").position(-2*i,-i,2*i).rotationY(-90).update().move(1*i,1*i,.5*i+p).update()),s.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(2*i,2*i,1*i+p).update()),s;case 3:var d=Sprite3D.create(".shape fourth").rotation(70,0,45).position(e,a+i,o).update();return d.appendChild(Sprite3D.box(2*i,2*i,p,".shape bottom").position(-i,-i,-i).rotationY(180).update().move(-2*i,-2*i,-1*i-p).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,0).rotationX(90).update().move(2*i,2*i,1*i+p).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,2*i).rotationX(-90).update().move(-1*i,-1*i,-.5*i+p).update()),d;case 4:var h=Sprite3D.create(".shape fifth").rotation(70,0,45).position(e,a+i,o).update();return h.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,-i).rotationY(180).update().move(-2*i,-2*i,-1*i-p).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,-2*i).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,0).rotationX(90).update().move(2*i,2*i,1*i+p).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(-1*i,-1*i,-.5*i+p).update()),h;case 5:var u=Sprite3D.create(".shape sixth").rotation(70,0,45).position(e+i,a+3*i,o).update();return u.appendChild(Sprite3D.box(2*i,2*i,p,".shape left").position(-2*i,-i,0).rotationY(-90).update().move(-2*i,-2*i,-1*i-p).update()),u.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-3*i,0,2*i).rotationX(90).update().move(1*i,1*i,.5*i+p).update()),u.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(2*i,2*i,1*i+p).update()),u}}var $=jQuery;$(document).ready(function(){var t="300000px",e=shuffle([0,1,2,3,4,5,6,7,8,9]),a=(shuffle([0,1,2,3,4,5]),["#angelidakis","#foam","#newterritories","#chrstinebjerke","#grnasfck","#toma"]),o=["Andreas   Angeli dakis","F O A M","new- terri tories","Christine Bjerke","GRNA SFC K","T O  M   A"],p=$(window).height();viewport_width=$(window).width(),$("span > .row.shape-container .col-sm-2 > .shape").each(function(){$(this).data("rotationReset",[this.rotationX(),this.rotationY(),this.rotationZ()])}),$(".shape-container .col-sm-2").each(function(a,o){var i=e[a]+1;$(o).addClass("col-sm-offset-"+i);var n=$(this).width();height=$(this).height(),Sprite3D.stage($(o)[0]).perspective(t).appendChild(shapeCreator(a,n/2,height/2,0,23));Sprite3D.stage($(this).parents(".shape-container").siblings(".revelation")[0]).perspective("600").appendChild(shapeCreatorSpread(a,viewport_width/2,p/3,0,130,0).addClass("gradient-"+(a+1)));$(".shape, .face").css("transition","0.02s all ease")}),setInterval(function(){},160),$("span > .row.shape-container .col-sm-2").hover(function(){var t=Date.now(),e=($(this).children(".shape"),$(this).children(".shape").children().children(),$(this).parents(".shape-container").siblings(".revelation")),n=["x","y","z"];$(".shape-container .col-sm-2 > .shape").hide(),$(s).children(".shape").each(function(t){$(this).data("rotationReset",[this.rotationX(),this.rotationY(),this.rotationZ()])});var r=$(this).offset();centerX=r.left+$(this).width()/2,centerY=r.top+$(this).height()/2,positionTranslateX=Math.min(viewport_width/2,viewport_width/2-centerX),positionTranslateY=Math.min(p/2,p/2-centerY),$(e).data("rotationReset",[this.rotationX(),$(e).children(".shape")[0].rotationY(),$(e).children(".shape")[0].rotationZ()]);var s=$(e).children(".shape")[0];for(rotate=setInterval(function(){var a=Date.now()-t,o=a/1e3;e.children(".shape")[0].rotate(0,5e-4*Math.sin(a)^.5,5e-4*Math.cos(a)^.5).update(),e[0].perspective(perspectiveNormalize(5,o));var i=function(t){var e=a/300;return{x:randomInt(.008,.06)*e+.1,y:.018*Math.sin(e)+.1,z:.05*Math.cos(e)+.1}[t]};$(s).children(".shape").each(function(t){this.rotate(i("x"),-1*i("y"),i("z")).update();var e=n[randomInt(0,2)];Math.round(Math.random())*this.rotate(i(e),i(e),i(e)).update(),$(this).data("rotationReset",[this.rotationX(),this.rotationY(),this.rotationZ()])})},10),i=0;i<a.length;i++){$h1=$("span"+a[i]+" .revelation h1"),$h1.empty();var d=o[i].split(" ");$.each(d,function(t,e){t+=1,$h1.append("<span class='facetext' style='top:"+50*t+"px; left:"+50*(t+2)+"px;'>"+e+"</span>")})}$(this).parents(".shape-container").siblings(".revelation").fadeIn(200,function(){})},function(){var t=($(this).children(".shape"),$(this).parents(".shape-container").siblings(".revelation")[0]);$(".shape-container .col-sm-2 > .shape").show(),$(this).parents(".shape-container").siblings().fadeOut(50),$(t).children(".shape")[0].rotation(70,0,45).update();$(t).children(".shape")[0];clearInterval(rotate)})});var $=jQuery,_unit=27,_depth=1;