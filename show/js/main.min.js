function shuffle(t){for(var e,a,o=t.length;0!==o;)a=Math.floor(Math.random()*o),o-=1,e=t[o],t[o]=t[a],t[a]=e;return t}function randomInt(t,e){return Math.floor(Math.random()*e)+t}function MouseScroll(t){var e=0;"wheelDelta"in t?(e=t.wheelDelta,$(".shape, .face").css("transition","")):(e=-40*t.detail,$(".shape, .face").css("transition",""));var a=function(t){return.03*t+70/(Math.abs(t)+2)};$("span > .row.shape-container .col-sm-2 > .shape").each(function(){this.rotate(0,0,a(e)).update()}),Math.abs(e)<1&&$(".shape, .face").css("transition","transform 0.04s ease")}function Init(){var t=document.getElementById("body");t.addEventListener?(t.addEventListener("mousewheel",MouseScroll,!1),t.addEventListener("DOMMouseScroll",MouseScroll,!1)):t.attachEvent&&t.attachEvent("onmousewheel",MouseScroll)}function rotateBox(t,e,a){var o;"x"==e?(o=t.rotationX(),t.rotationX(o+a).update()):"y"==e?(o=t.rotationY(),t.rotationY(o+a).update()):"z"==e&&(o=t.rotationZ(),t.rotationZ(o+a).update())}function perspectiveFuck(t,e){t.perspective(e)}function shapeCreator(t,e,a,o,i,p){switch(i||(i=_unit),p||(p=_depth),t){case 0:var n=Sprite3D.create(".shape first").transformOrigin(e,a-10,o).rotation(70,0,45).update();return n.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,i).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape bottom").position(-i,-i,-i).rotationY(180).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,-2*i).rotationX(90).update()),n;case 1:var r=Sprite3D.create(".shape second").rotation(70,0,45).position(e+20,a+35,o).update();return r.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,i).update()),r.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update()),r.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-3*i,0,2*i).rotationX(90).update()),r;case 2:var s=Sprite3D.create(".shape third").rotation(70,0,45).position(e,a+50,o).update();return s.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-3*i,3*i).update()),s.appendChild(Sprite3D.box(2*i,2*i,p,".shape left").position(-2*i,-i,2*i).rotationY(-90).update()),s.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update()),s;case 3:var h=Sprite3D.create(".shape fourth").rotation(70,0,45).position(e,a+40,o).update();return h.appendChild(Sprite3D.box(2*i,2*i,p,".shape bottom").position(-i,-i,-i).rotationY(180).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,0).rotationX(90).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,2*i).rotationX(-90).update()),h;case 4:var d=Sprite3D.create(".shape fifth").rotation(70,0,45).position(e,a-10,o).update();return d.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,-i).rotationY(180).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,-2*i).rotationY(90).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,0).rotationX(90).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update()),d;case 5:var u=Sprite3D.create(".shape sixth").rotation(70,0,45).position(e,a+40,o).update();return u.appendChild(Sprite3D.box(2*i,2*i,p,".shape left").position(-2*i,-i,0).rotationY(-90).update()),u.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-3*i,0,2*i).rotationX(90).update()),u.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update()),u}}function shapeCreatorSpread(t,e,a,o,i,p){switch(i||(i=_unit),p||(p=_depth),t){case 0:var n=Sprite3D.create(".shape first").rotation(70,0,45).update().move(e,a,o).update();return n.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,i).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape bottom").position(-i,-i,-i).rotationY(180).update().move(-2*i,-2*i,-1*i-p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update().move(1*i,1*i,.5*i+p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,-2*i).rotationX(90).update().move(2*i,2*i,1*i+p).update()),n.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update().move(-1*i,-1*i,-.5*i+p).update()),n;case 1:var r=Sprite3D.create(".shape second").rotation(70,0,45).position(e+20,a+35,o).update();return r.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,i).update()),r.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update()),r.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-3*i,0,2*i).rotationX(90).update()),r;case 2:var s=Sprite3D.create(".shape third").rotation(70,0,45).position(e,a+50,o).update();return s.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-3*i,3*i).update()),s.appendChild(Sprite3D.box(2*i,2*i,p,".shape left").position(-2*i,-i,2*i).rotationY(-90).update()),s.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update()),s;case 3:var h=Sprite3D.create(".shape fourth").rotation(70,0,45).position(e,a+40,o).update();return h.appendChild(Sprite3D.box(2*i,2*i,p,".shape bottom").position(-i,-i,-i).rotationY(180).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,0).rotationY(90).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,0).rotationX(90).update()),h.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,2*i).rotationX(-90).update()),h;case 4:var d=Sprite3D.create(".shape fifth").rotation(70,0,45).position(e,a-10,o).update();return d.appendChild(Sprite3D.box(2*i,2*i,p,".shape top").position(-i,-i,-i).rotationY(180).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape right").position(0,-i,-2*i).rotationY(90).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-i,0,0).rotationX(90).update()),d.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update()),d;case 5:var u=Sprite3D.create(".shape sixth").rotation(70,0,45).position(e,a+40,o).update();return u.appendChild(Sprite3D.box(2*i,2*i,p,".shape left").position(-2*i,-i,0).rotationY(-90).update()),u.appendChild(Sprite3D.box(2*i,2*i,p,".shape front").position(-3*i,0,2*i).rotationX(90).update()),u.appendChild(Sprite3D.box(2*i,2*i,p,".shape back").position(-i,-2*i,0).rotationX(-90).update()),u}}var $=jQuery;$(document).ready(function(){var t="300000px",e=shuffle([0,1,2,3,4,5,6,7,8,9]),a=(shuffle([0,1,2,3,4,5]),$(window).height());viewport_width=$(window).width(),$(".shape-container .col-sm-2").each(function(o,i){var p=e[o]+1;$(i).addClass("col-sm-offset-"+p);var n=$(this).width();height=$(this).height(),Sprite3D.stage($(i)[0]).perspective(t).appendChild(shapeCreatorSpread(o,n/2,height/2,0));Sprite3D.stage($(this).parents(".shape-container").siblings(".revelation")[0]).perspective("600").appendChild(shapeCreatorSpread(o,viewport_width/2,a/4,0,100,1).addClass("gradient-"+(o+1)));$(".shape, .face").css("transition","0.02s all ease")}),setInterval(function(){},160),$("span > .row.shape-container .col-sm-2").hover(function(){var t=Date.now(),e=($(this).children(".shape"),$(this).children(".shape").children().children(),$(this).parents(".shape-container").siblings(".revelation")),o=["x","y","z"];$(".shape-container .col-sm-2 > .shape").hide();var i=$(this).offset();centerX=i.left+$(this).width()/2,centerY=i.top+$(this).height()/2,positionTranslateX=Math.min(viewport_width/2,viewport_width/2-centerX),positionTranslateY=Math.min(a/2,a/2-centerY),$(e).data("rotationReset",[$(e).children(".shape")[0].rotationX(),$(e).children(".shape")[0].rotationY(),$(e).children(".shape")[0].rotationZ()]);var p=$(e).children(".shape")[0];rotate=setInterval(function(){var a=Date.now()-t,i=a/1e3;e.children(".shape")[0].rotate(0,5e-4*Math.sin(a)^.5,5e-4*Math.cos(a)^.5).update();var n=function(t){return Math.min(600+15e3*(i/t),3e5)};e[0].perspective(n(5));var r=function(t){var e=a/400;return{x:.02*e+.1,y:.018*Math.sin(e)+.1,z:.001*Math.cos(e)+.1}[t]};$(p).children(".shape").each(function(t){this.rotate(r("x"),-1*r("y"),r("z")).update();var e=o[randomInt(0,2)];Math.round(Math.random())*this.rotate(r(e),r(e),r(e)).update()})},10);var e=$(this).parents(".shape-container").siblings(".revelation").fadeIn(20)},function(){var t=($(this).children(".shape"),$(this).parents(".shape-container").siblings(".revelation")[0]);$(".shape-container .col-sm-2 > .shape").show(),$(this).parents(".shape-container").siblings().fadeOut(20);$(t).data("rotationReset")[0],$(t).data("rotationReset")[1],$(t).data("rotationReset")[2];clearInterval(rotate)})});var $=jQuery,_unit=27,_depth=1;