function shuffle(t){for(var e,a,o=t.length;0!==o;)a=Math.floor(Math.random()*o),o-=1,e=t[o],t[o]=t[a],t[a]=e;return t}function randomInt(t,e){return Math.floor(Math.random()*e)+t}function MouseScroll(t){var e=0;"wheelDelta"in t?(e=t.wheelDelta,$(".shape, .face").css("transition","")):(e=-40*t.detail,$(".shape, .face").css("transition",""));var a=function(t){return.03*t+70/(Math.abs(t)+2)};$("span > .row.shape-container .col-sm-2 > .shape").each(function(){rotateBox(this,"z",a(e))}),Math.abs(e)<1&&($(".shape, .face").css("transition","transform 0.04s ease"),shape1.rotation(70,0,45).update(),shape2.rotation(70,0,45).update(),shape3.rotation(70,0,45).update(),shape4.rotation(70,0,45).update(),shape5.rotation(70,0,45).update(),shape6.rotation(70,0,45).update(),shape2.children[0].rotation(0,0,0).update(),shape1.children[0].rotation(0,0,0).update(),shape1.children[3].rotation(90,0,0).update(),shape3.children[0].rotation(0,0,0).update(),shape3.children[1].rotation(0,-90,0).update(),shape4.children[0].rotation(0,180,0).update(),shape4.children[2].rotation(90,0,0).update(),shape5.children[1].rotation(0,90,0).update(),shape5.children[2].rotation(90,0,0).update(),shape6.children[0].rotation(0,-90,0).update(),shape6.children[2].rotation(-90,0,0).update())}function Init(){var t=document.getElementById("body");t.addEventListener?(t.addEventListener("mousewheel",MouseScroll,!1),t.addEventListener("DOMMouseScroll",MouseScroll,!1)):t.attachEvent&&t.attachEvent("onmousewheel",MouseScroll)}function rotateBox(t,e,a){var o;"x"==e?(o=t.rotationX(),t.rotationX(o+a).update()):"y"==e?(o=t.rotationY(),t.rotationY(o+a).update()):"z"==e&&(o=t.rotationZ(),t.rotationZ(o+a).update())}function perspectiveFuck(t,e){t.perspective(e)}function shapeCreator(t,e,a,o,i,n){switch(i||(i=27),n||(n=1),t){case 0:var p=Sprite3D.create(".shape first").rotation(70,0,45).position(e,a-10,o).update();return p.appendChild(Sprite3D.box(2*i,2*i,n,".shape top").position(-i,-i,i).update()),p.appendChild(Sprite3D.box(2*i,2*i,n,".shape bottom").position(-i,-i,-i).rotationY(180).update()),p.appendChild(Sprite3D.box(2*i,2*i,n,".shape right").position(0,-i,0).rotationY(90).update()),p.appendChild(Sprite3D.box(2*i,2*i,n,".shape front").position(-i,0,-2*i).rotationX(90).update()),p.appendChild(Sprite3D.box(2*i,2*i,n,".shape back").position(-i,-2*i,0).rotationX(-90).update()),p;case 1:var r=Sprite3D.create(".shape second").rotation(70,0,45).position(e+20,a+35,o).update();return r.appendChild(Sprite3D.box(2*i,2*i,n,".shape top").position(-i,-i,i).update()),r.appendChild(Sprite3D.box(2*i,2*i,n,".shape right").position(0,-i,0).rotationY(90).update()),r.appendChild(Sprite3D.box(2*i,2*i,n,".shape front").position(-3*i,0,2*i).rotationX(90).update()),r;case 2:var s=Sprite3D.create(".shape third").rotation(70,0,45).position(e,a+50,o).update();return s.appendChild(Sprite3D.box(2*i,2*i,n,".shape top").position(-i,-3*i,3*i).update()),s.appendChild(Sprite3D.box(2*i,2*i,n,".shape left").position(-2*i,-i,2*i).rotationY(-90).update()),s.appendChild(Sprite3D.box(2*i,2*i,n,".shape back").position(-i,-2*i,0).rotationX(-90).update()),s;case 3:var h=Sprite3D.create(".shape fourth").rotation(70,0,45).position(e,a+40,o).update();return h.appendChild(Sprite3D.box(2*i,2*i,n,".shape bottom").position(-i,-i,-i).rotationY(180).update()),h.appendChild(Sprite3D.box(2*i,2*i,n,".shape right").position(0,-i,0).rotationY(90).update()),h.appendChild(Sprite3D.box(2*i,2*i,n,".shape front").position(-i,0,0).rotationX(90).update()),h.appendChild(Sprite3D.box(2*i,2*i,n,".shape back").position(-i,-2*i,2*i).rotationX(-90).update()),h;case 4:var d=Sprite3D.create(".shape fifth").rotation(70,0,45).position(e,a-10,o).update();return d.appendChild(Sprite3D.box(2*i,2*i,n,".shape top").position(-i,-i,-i).rotationY(180).update()),d.appendChild(Sprite3D.box(2*i,2*i,n,".shape right").position(0,-i,-2*i).rotationY(90).update()),d.appendChild(Sprite3D.box(2*i,2*i,n,".shape front").position(-i,0,0).rotationX(90).update()),d.appendChild(Sprite3D.box(2*i,2*i,n,".shape back").position(-i,-2*i,0).rotationX(-90).update()),d;case 5:var c=Sprite3D.create(".shape sixth").rotation(70,0,45).position(e,a+40,o).update();return c.appendChild(Sprite3D.box(2*i,2*i,n,".shape left").position(-2*i,-i,0).rotationY(-90).update()),c.appendChild(Sprite3D.box(2*i,2*i,n,".shape front").position(-3*i,0,2*i).rotationX(90).update()),c.appendChild(Sprite3D.box(2*i,2*i,n,".shape back").position(-i,-2*i,0).rotationX(-90).update()),c}}var $=jQuery;$(document).ready(function(){var t="300000px",e=shuffle([0,1,2,3,4,5,6,7,8,9]),a=(shuffle([0,1,2,3,4,5]),$(window).height());viewport_width=$(window).width(),$(".shape-container .col-sm-2").each(function(o,i){var n=e[o]+1;$(i).addClass("col-sm-offset-"+n);var p=$(this).width();height=$(this).height(),Sprite3D.stage($(i)[0]).perspective(t).appendChild(shapeCreator(o,p/2,height/2,0)),$(this).parents(".shape-container").siblings(".revelation")[0].appendChild(shapeCreator(o,viewport_width/2,a/2,0,80,2).addClass("gradient")),$(".shape, .face").css("transition","0.02s all ease")}),setInterval(function(){},160),$("span > .row.shape-container .col-sm-2").hover(function(){var t=Date.now(),e=($(this).children(".shape"),$(this).children(".shape").children().children(),$(this).parents(".shape-container").siblings(".revelation")[0]);$(".shape-container .col-sm-2 > .shape").hide();var o=$(this).offset();centerX=o.left+$(this).width()/2,centerY=o.top+$(this).height()/2,positionTranslateX=Math.min(viewport_width/2,viewport_width/2-centerX),positionTranslateY=Math.min(a/2,a/2-centerY),$(e).data("rotationReset",[$(e).children(".shape")[0].rotationX(),$(e).children(".shape")[0].rotationY(),$(e).children(".shape")[0].rotationZ()]),rotate=setInterval(function(){var a=Date.now()-t;e.children(".shape")[0].rotate(0,.001*a+10,.001*a+10).update(),rotateBox(e.children(".shape")[0].children[randomInt(0,2)],"x",.02*a),rotateBox(e.children(".shape")[0].children[randomInt(0,2)],"x",.018*Math.sin(a)),rotateBox(e.children(".shape")[0].children[randomInt(0,2)],"y",.001*Math.cos(a))},200);var e=$(this).parents(".shape-container").siblings(".revelation").fadeIn(20)},function(){var t=($(this).children(".shape"),$(this).parents(".shape-container").siblings(".revelation")[0]);$(".shape-container .col-sm-2 > .shape").show(),$(this).parents(".shape-container").siblings().fadeOut(20);var e=$(t).data("rotationReset")[0],a=$(t).data("rotationReset")[1],o=$(t).data("rotationReset")[2];t.children(".shape")[0].rotation(e,a,o).update(),clearInterval(rotate)})});var $=jQuery;